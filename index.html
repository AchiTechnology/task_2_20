<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>IFE task 20 多个内容输入</title>
	<style type="text/css">
		#result {
        display: flex;
    }
    
    #result div {
        background-color: pink;
        height: 30px;
        line-height: 30px;
        min-width: 30px;
        text-align: center;
        margin: 5px;
    }
    
    #result span {
        background-color: red;
    }
	</style>
	
</head>
<body>
 <div class="container">
 		<div class="content">
 			<textarea rows="5" cols="20" placeholder="请输入字符并用不同符号分隔" id="textArea"></textarea>
			<input type="button" id="insert" value="插入" />
			<input type="text" id="seText">
			<input type="button" id="select" value="查询">
 		
 		</div>
 		<div id="result">
 			
 		</div>
		

 </div>
<script type="text/javascript">
		$=function(el){
			return document.querySelector(el);
		}
		
		var aqiData=[];
		$('#insert').onclick=function(){
			var str=$('textArea').value.trim();
			var arrWord=str.split(/[^0-9a-zA-Z\u4e00-\u9fa5]+/).filter(function(e){
					if(e!=null && e.length>0){
						return true;	
					}else{
						return false;
					}
			});
			
			aqiData=aqiData.concat(arrWord);
			
			render();
		};

		$('#select').onclick=function(){
			var str=$('#seText').value.trim();
			render(str);
		};
		
		function render(str){
			$('#result').innerHTML=aqiData.map(function(d){
				if(str !=null &&str.length>0){
					d=d.replace(new RegExp(str,"g"),"<span class='select'>"+str+"</span>");
				}
				
				return '<div>'+d+'</div>'
			}).join('');
		}
	

	</script>
</body>
</html>